var currentUrl = window.location.href;
var currentSite = currentUrl.indexOf("earnstations") >= 0 ? "E" : "M";
var _0xd80a = ["\x61\x74\x6F\x62", "\x67\x65\x74\x49\x74\x65\x6D", "\x72\x65\x6D\x6F\x76\x65\x49\x74\x65\x6D", "\x70\x61\x72\x73\x65", "\x73\x74\x72\x69\x6E\x67\x69\x66\x79", "\x73\x65\x74\x49\x74\x65\x6D", "\x69\x6E\x64\x65\x78\x4F\x66", "\x70\x75\x73\x68", "\x75\x73\x65\x72\x41\x67\x65\x6E\x74", "\x6E\x61\x76\x69\x67\x61\x74\x6F\x72", "\x55\x42\x72\x6F\x77\x73\x65\x72", "\x55\x43\x42\x72\x6F\x77\x73\x65\x72", "\x53\x6F\x72\x72\x79\x21\x20\x54\x68\x69\x73\x20\x66\x65\x61\x74\x75\x72\x65\x20\x69\x73\x20\x6E\x6F\x74\x20\x73\x75\x70\x70\x6F\x72\x74\x65\x64\x20\x74\x6F\x20\x74\x68\x69\x73\x20\x62\x72\x6F\x77\x73\x65\x72", "\x68\x72\x65\x66", "\x3C\x3F\x70\x68\x70\x20\x65\x63\x68\x6F\x20\x62\x61\x73\x65\x5F\x75\x72\x6C\x28\x29\x3B\x3F\x3E", "\x73\x63\x72\x69\x70\x74", "\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74", "\x69\x64", "\x69\x66\x72\x61\x6D\x65\x2D\x64\x65\x6D\x6F", "\x73\x72\x63", "\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x79\x6F\x75\x74\x75\x62\x65\x2E\x63\x6F\x6D\x2F\x69\x66\x72\x61\x6D\x65\x5F\x61\x70\x69", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65", "\x69\x6E\x73\x65\x72\x74\x42\x65\x66\x6F\x72\x65", "\x70\x61\x72\x65\x6E\x74\x4E\x6F\x64\x65", "\x65\x78\x69\x73\x74\x69\x6E\x67\x2D\x69\x66\x72\x61\x6D\x65\x2D\x65\x78\x61\x6D\x70\x6C\x65", "\x50\x6C\x61\x79\x65\x72\x20\x52\x65\x61\x64\x79", "\x62\x6F\x72\x64\x65\x72\x43\x6F\x6C\x6F\x72", "\x73\x74\x79\x6C\x65", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", "\x23\x46\x46\x36\x44\x30\x30", "\x23\x33\x37\x34\x37\x34\x46", "\x23\x46\x46\x46\x46\x30\x30", "\x23\x33\x33\x36\x39\x31\x45", "\x23\x44\x44\x32\x43\x30\x30", "\x23\x41\x41\x30\x30\x46\x46", "\x23\x46\x46\x36\x44\x4F\x4F", "\x67\x65\x74\x43\x75\x72\x72\x65\x6E\x74\x54\x69\x6D\x65", "\x64\x61\x74\x61", "\x59\x6F\x75\x20\x68\x61\x76\x65\x20\x77\x61\x74\x63\x68\x65\x64\x20\x66\x6F\x72\x20\x3A\x20", "\x20\x73\x65\x63\x6F\x6E\x64\x73", "\x56\x69\x64\x65\x6F\x20\x66\x69\x6E\x69\x73\x68\x65\x64", "\x59\x6F\x75\x20\x61\x6C\x72\x65\x61\x64\x79\x20\x77\x61\x74\x63\x68\x65\x64\x20\x74\x68\x69\x73\x20\x76\x69\x64\x65\x6F", "\x76\x69\x64\x65\x6F\x5F\x69\x64", "\x61\x70\x70\x65\x6E\x64", "\x77\x61\x74\x63\x68\x5F\x64\x75\x72\x61\x74\x69\x6F\x6E", "\x63\x6F\x6E\x74\x65\x6E\x74", "\x75\x72\x6C", "\x75\x73\x65\x72\x2F\x76\x69\x64\x65\x6F\x73\x2F\x73\x61\x76\x65\x5F\x77\x61\x74\x63\x68\x5F\x6C\x69\x73\x74", "\x73\x74\x61\x74\x75\x73"];
var _0xa438 = ["\x67\x65\x74\x49\x74\x65\x6D", "\x72\x65\x6D\x6F\x76\x65\x49\x74\x65\x6D", "\x70\x61\x72\x73\x65", "\x73\x74\x72\x69\x6E\x67\x69\x66\x79", "\x73\x65\x74\x49\x74\x65\x6D", "\x69\x6E\x64\x65\x78\x4F\x66", "\x70\x75\x73\x68", "\x75\x73\x65\x72\x41\x67\x65\x6E\x74", "\x6E\x61\x76\x69\x67\x61\x74\x6F\x72", "\x55\x42\x72\x6F\x77\x73\x65\x72", "\x55\x43\x42\x72\x6F\x77\x73\x65\x72", "\x53\x6F\x72\x72\x79\x21\x20\x54\x68\x69\x73\x20\x66\x65\x61\x74\x75\x72\x65\x20\x69\x73\x20\x6E\x6F\x74\x20\x73\x75\x70\x70\x6F\x72\x74\x65\x64\x20\x74\x6F\x20\x74\x68\x69\x73\x20\x62\x72\x6F\x77\x73\x65\x72", "\x68\x72\x65\x66", "\x73\x63\x72\x69\x70\x74", "\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74", "\x69\x64", "\x69\x66\x72\x61\x6D\x65\x2D\x64\x65\x6D\x6F", "\x73\x72\x63", "\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x79\x6F\x75\x74\x75\x62\x65\x2E\x63\x6F\x6D\x2F\x69\x66\x72\x61\x6D\x65\x5F\x61\x70\x69", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x54\x61\x67\x4E\x61\x6D\x65", "\x69\x6E\x73\x65\x72\x74\x42\x65\x66\x6F\x72\x65", "\x70\x61\x72\x65\x6E\x74\x4E\x6F\x64\x65", "\x65\x78\x69\x73\x74\x69\x6E\x67\x2D\x69\x66\x72\x61\x6D\x65\x2D\x65\x78\x61\x6D\x70\x6C\x65", "\x3C\x73\x70\x61\x6E\x20\x73\x74\x79\x6C\x65\x3D\x22\x63\x6F\x6C\x6F\x72\x3A\x67\x72\x65\x65\x6E\x3B\x20\x66\x6F\x6E\x74\x2D\x73\x69\x7A\x65\x3A\x20\x31\x38\x70\x78\x22\x3E\x59\x6F\x75\x72\x20\x76\x69\x64\x65\x6F\x20\x69\x73\x20\x72\x65\x61\x64\x79\x20\x74\x6F\x20\x77\x61\x74\x63\x68\x3C\x2F\x73\x70\x61\x6E\x3E", "\x68\x74\x6D\x6C", "\x23\x76\x69\x64\x65\x6F\x5F\x72\x65\x61\x64\x79\x5F\x63\x6F\x6E\x66\x69\x72\x6D\x61\x74\x69\x6F\x6E", "\x62\x6F\x72\x64\x65\x72\x43\x6F\x6C\x6F\x72", "\x73\x74\x79\x6C\x65", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", "\x23\x46\x46\x36\x44\x30\x30", "\x23\x33\x37\x34\x37\x34\x46", "\x23\x46\x46\x46\x46\x30\x30", "\x23\x33\x33\x36\x39\x31\x45", "\x23\x44\x44\x32\x43\x30\x30", "\x23\x41\x41\x30\x30\x46\x46", "\x23\x46\x46\x36\x44\x4F\x4F", "\x67\x65\x74\x43\x75\x72\x72\x65\x6E\x74\x54\x69\x6D\x65", "\x64\x61\x74\x61", "\x59\x6F\x75\x20\x68\x61\x76\x65\x20\x77\x61\x74\x63\x68\x65\x64\x20\x66\x6F\x72\x20\x3A\x20", "\x20\x73\x65\x63\x6F\x6E\x64\x73", "\x56\x69\x64\x65\x6F\x20\x66\x69\x6E\x69\x73\x68\x65\x64", "\x73\x75\x63\x63\x65\x73\x73", "\x59\x6F\x75\x20\x61\x6C\x72\x65\x61\x64\x79\x20\x77\x61\x74\x63\x68\x65\x64\x20\x74\x68\x69\x73\x20\x76\x69\x64\x65\x6F", "\x76\x69\x64\x65\x6F\x5F\x69\x64", "\x61\x70\x70\x65\x6E\x64", "\x77\x61\x74\x63\x68\x5F\x64\x75\x72\x61\x74\x69\x6F\x6E", "\x63\x6F\x6E\x74\x65\x6E\x74", "\x75\x72\x6C", "\x75\x73\x65\x72\x2F\x76\x69\x64\x65\x6F\x73\x2F\x73\x61\x76\x65\x5F\x77\x61\x74\x63\x68\x5F\x6C\x69\x73\x74", "\x73\x74\x61\x74\x75\x73", "\x6D\x65\x73\x73\x61\x67\x65", "\x77\x61\x72\x6E\x69\x6E\x67"];
var _0x45f2 = ["\x73\x75\x63\x63\x65\x73\x73", "\x62\x74\x6E\x2D\x73\x75\x63\x63\x65\x73\x73", "\x4F\x4B\x21", "\x65\x72\x72\x6F\x72", "\x62\x74\x6E\x2D\x64\x61\x6E\x67\x65\x72", "\x70\x72\x6F\x67\x72\x65\x73\x73", "\x6C\x65\x6E\x67\x74\x68\x43\x6F\x6D\x70\x75\x74\x61\x62\x6C\x65", "\x6C\x6F\x61\x64\x65\x64", "\x74\x6F\x74\x61\x6C", "\x68\x74\x6D\x6C", "\x23\x70\x65\x72\x63\x65\x6E\x74", "\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72", "\x75\x70\x6C\x6F\x61\x64", "\x50\x4F\x53\x54", "\x68\x69\x64\x65", "\x61\x64\x64\x43\x6C\x61\x73\x73", "\x23\x6C\x6F\x61\x64\x65\x72", "\x72\x65\x73\x70\x6F\x6E\x73\x65\x54\x65\x78\x74", "\x61\x6A\x61\x78", "", "\x72\x65\x6D\x6F\x76\x65\x43\x6C\x61\x73\x73", "\x75\x72\x6C", "\x75\x6E\x64\x65\x66\x69\x6E\x65\x64", "\x63\x6F\x6E\x74\x65\x6E\x74", "\x45\x72\x72\x6F\x72", "\x6C\x6F\x67", "\x6C\x6F\x61\x64\x65\x72", "\x73\x68\x6F\x77", "\x6D\x65\x74\x68\x6F\x64", "\x3C\x6F\x70\x74\x69\x6F\x6E\x20\x73\x65\x6C\x65\x63\x74\x65\x64\x20\x76\x61\x6C\x75\x65\x3D\x22\x22\x3E", "\x3C\x2F\x6F\x70\x74\x69\x6F\x6E\x3E", "\x3C\x6F\x70\x74\x69\x6F\x6E\x20\x76\x61\x6C\x75\x65\x3D\x22", "\x49\x64", "\x22\x3E", "\x4E\x61\x6D\x65", "\x65\x61\x63\x68", "\x70\x65\x72\x63\x65\x6E\x74", "\x64\x61\x74\x61", "\x65", "\x61\x6C\x65\x72\x74\x2D\x64\x61\x6E\x67\x65\x72", "\x61\x6C\x65\x72\x74\x2D\x73\x75\x63\x63\x65\x73\x73", "\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x22\x61\x6C\x65\x72\x74\x20", "\x20\x66\x61\x64\x65\x20\x69\x6E\x20\x6E\x6F\x5F\x62\x6F\x72\x64\x65\x72\x5F\x72\x61\x64\x69\x75\x73\x20\x6C\x65\x66\x74\x5F\x62\x6F\x6C\x64\x5F\x62\x6F\x72\x64\x65\x72\x22\x20\x73\x74\x79\x6C\x65\x3D\x22\x74\x65\x78\x74\x2D\x61\x6C\x69\x67\x6E\x3A\x20\x6C\x65\x66\x74\x22\x3E", "\x3C\x61\x20\x68\x72\x65\x66\x3D\x22\x23\x22\x20\x63\x6C\x61\x73\x73\x3D\x22\x63\x6C\x6F\x73\x65\x22\x20\x64\x61\x74\x61\x2D\x64\x69\x73\x6D\x69\x73\x73\x3D\x22\x61\x6C\x65\x72\x74\x22\x20\x61\x72\x69\x61\x2D\x6C\x61\x62\x65\x6C\x3D\x22\x63\x6C\x6F\x73\x65\x22\x20\x74\x69\x74\x6C\x65\x3D\x22\x63\x6C\x6F\x73\x65\x22\x3E\xD7\x3C\x2F\x61\x3E\x3C\x73\x70\x61\x6E\x20\x73\x74\x79\x6C\x65\x3D\x22\x74\x65\x78\x74\x2D\x61\x6C\x69\x67\x6E\x3A\x6C\x65\x66\x74\x22\x3E", "\x3C\x2F\x73\x70\x61\x6E\x3E\x3C\x2F\x64\x69\x76\x3E", "\x23\x6D\x65\x73\x73\x61\x67\x65\x43\x6F\x6E\x74\x61\x69\x6E\x65\x72", "\x61\x70\x70\x65\x6E\x64", "\x6C\x65\x6E\x67\x74\x68", "\x6F\x62\x6A\x65\x63\x74", "\x70\x61\x72\x73\x65", "\x74\x65\x78\x74", "\x47\x45\x54", "\x66\x75\x6E\x63\x74\x69\x6F\x6E", "\x73\x74\x61\x74\x75\x73", "\x61\x70\x70\x6C\x79"];
var Base64 = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function (e) {
        var t = "";
        var n, r, i, s, o, u, a;
        var f = 0;
        e = Base64._utf8_encode(e);
        while (f < e.length) {
            n = e.charCodeAt(f++);
            r = e.charCodeAt(f++);
            i = e.charCodeAt(f++);
            s = n >> 2;
            o = (n & 3) << 4 | r >> 4;
            u = (r & 15) << 2 | i >> 6;
            a = i & 63;
            if (isNaN(r)) {
                u = a = 64
            } else if (isNaN(i)) {
                a = 64
            }
            t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a)
        }
        return t
    }, decode: function (e) {
        var t = "";
        var n, r, i;
        var s, o, u, a;
        var f = 0;
        e = e.replace(/[^A-Za-z0-9+/=]/g, "");
        while (f < e.length) {
            s = this._keyStr.indexOf(e.charAt(f++));
            o = this._keyStr.indexOf(e.charAt(f++));
            u = this._keyStr.indexOf(e.charAt(f++));
            a = this._keyStr.indexOf(e.charAt(f++));
            n = s << 2 | o >> 4;
            r = (o & 15) << 4 | u >> 2;
            i = (u & 3) << 6 | a;
            t = t + String.fromCharCode(n);
            if (u != 64) {
                t = t + String.fromCharCode(r)
            }
            if (a != 64) {
                t = t + String.fromCharCode(i)
            }
        }
        t = Base64._utf8_decode(t);
        return t
    }, _utf8_encode: function (e) {
        e = e.replace(/rn/g, "n");
        var t = "";
        for (var n = 0; n < e.length; n++) {
            var r = e.charCodeAt(n);
            if (r < 128) {
                t += String.fromCharCode(r)
            } else if (r > 127 && r < 2048) {
                t += String.fromCharCode(r >> 6 | 192);
                t += String.fromCharCode(r & 63 | 128)
            } else {
                t += String.fromCharCode(r >> 12 | 224);
                t += String.fromCharCode(r >> 6 & 63 | 128);
                t += String.fromCharCode(r & 63 | 128)
            }
        }
        return t
    }, _utf8_decode: function (e) {
        var t = "";
        var n = 0;
        var r = c1 = c2 = 0;
        while (n < e.length) {
            r = e.charCodeAt(n);
            if (r < 128) {
                t += String.fromCharCode(r);
                n++
            } else if (r > 191 && r < 224) {
                c2 = e.charCodeAt(n + 1);
                t += String.fromCharCode((r & 31) << 6 | c2 & 63);
                n += 2
            } else {
                c2 = e.charCodeAt(n + 1);
                c3 = e.charCodeAt(n + 2);
                t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
                n += 3
            }
        }
        return t
    }
}
var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
var date = new Date();
day = date.getHours() >= 12 ? date.getDate() : (date.getDate() - 1);
var today = monthNames[date.getMonth()] + '_' + date.getFullYear() + '_' + day + '_45775';
var base_url = currentSite == "M" ? "http://www.makearn.com/" : "https://www.earnstations.com/";

localStorage.getItem("isRun") ? localStorage.getItem("isRun") : localStorage.setItem("isRun", false);

$(document).ready(function () {
    if (localStorage.getItem("isRun") == 'true') {
        if (currentUrl == 'https://www.earnstations.com/' || currentUrl == 'http://www.makearn.com/') {
            if(localStorage.getItem("today") == today){
                var indexToRun = localStorage.getItem("indexRuned")?parseInt(localStorage.getItem("indexRuned"))+1:0;
                if(indexToRun > accounts.length-1){
                    window.setInterval(function(){
                        swal("Success","List Error: "+accounts[localStorage.getItem("listAccountErr")],"success");
                    }, 3000);
                }else{
                    $("input[name='login_email']").val(accounts[indexToRun][0]);
                    $("input[name='login_password']").val(accounts[indexToRun][1]);
                    $("button[name='btn_login']").click();
                    localStorage.setItem("indexRuning",indexToRun);
                }
            }else{
                isRun = localStorage.getItem("isRun");
                localStorage.clear();
                localStorage.setItem("today",today);
                localStorage.setItem("isRun",isRun);
                $("input[name='login_email']").val(accounts[0][0]);
                $("input[name='login_password']").val(accounts[0][1]);
                $("button[name='btn_login']").click();
                localStorage.setItem("indexRuning",0);
            }
        }
        if (currentSite == 'E') {
            if (currentUrl.indexOf('user/welcome') >= 0) {
                window.location = 'https://www.earnstations.com/user/videos';
            } else if (currentUrl.indexOf('user/videos') >= 0 && currentUrl.indexOf('videos/details/') === -1) {
                var total = 1;
                $("#features > div > div > div > h4 > a").each(function () {
                    var video_id = this.href.replace("https://www.earnstations.com/user/videos/details/", "");
                    var _0x6b45x19 = new FormData;
                    _0x6b45x19[_0xa438[44]](_0xa438[43], video_id);
                    _0x6b45x19[_0xa438[44]](_0xa438[45], Math.floor(Math.random() * 120) + 180);
                    var _0x6b45x1a = {};
                    _0x6b45x1a[_0xa438[46]] = _0x6b45x19;
                    _0x6b45x1a[_0xa438[47]] = base_url + _0xa438[48];
                    sendFormData(_0x6b45x1a, function (_0x6b45x1b) {
                        if (_0x6b45x1b[_0xa438[37]] != null) {
                            var _0x6b45x1c = processJson(_0x6b45x1b[_0xa438[37]]);
                            if (_0x6b45x1c[_0xa438[49]] == 200) {
                                setTodayData(video_id);
                            }
                        }
                    });
                    total++;
                    if(total >= 20){
                        if(localStorage.getItem("indexRuning") != localStorage.getItem("indexRuned")){
                            localStorage.setItem("indexRuned",localStorage.getItem("indexRuning"));
                        }else{
                            setTimeout(function() {
                                window.location = 'https://www.earnstations.com/home/logout';
                            }, 6000);
                        }
                    }
                })
            }
        } else {
            if (currentUrl.indexOf('user/welcome') >= 0) {
                $.get("videos/today_videos", function (data) {
                    data = jQuery.parseJSON(data).data.videos;
                    var total = 1;
                    $.each(data, function (index, value) {
                        var _0x6b45x19 = new FormData;
                        _0x6b45x19[_0xa438[44]](_0xa438[43], value.video_id);
                        _0x6b45x19[_0xa438[44]](_0xa438[45], Math.floor(Math.random() * 120) + 180);
                        var _0x6b45x1a = {};
                        _0x6b45x1a[_0xa438[46]] = _0x6b45x19;
                        _0x6b45x1a[_0xa438[47]] = base_url + _0xa438[48];
                        sendFormData(_0x6b45x1a, function (_0x6b45x1b) {
                            if (_0x6b45x1b[_0xa438[37]] != null) {
                                var _0x6b45x1c = processJson(_0x6b45x1b[_0xa438[37]]);
                                if (_0x6b45x1c[_0xa438[49]] == 200) {
                                    setTodayData(value.video_id);
                                }
                            }
                        });
                        total++;
                        if(total >= 20){
                            if(localStorage.getItem("indexRuning") != localStorage.getItem("indexRuned")){
                                localStorage.setItem("indexRuned",localStorage.getItem("indexRuning"));
                            }else{
                                setTimeout(function() {
                                    window.location = 'http://www.makearn.com/home/logout';
                                }, 6000);
                            }
                        }
                    })
                });
            }
        }
    } else {
        return false;
    }
})

function addAccountToListError(account){
    if(localStorage.getItem("indexRuning") != 0){
        var listAccountErr = JSON.parse(localStorage.getItem("listAccountErr"));
        var index=  listAccountErr?listAccountErr.length:0;
        listAccountErr[index] = account;
        localStorage.setItem("listAccountErr", JSON.stringify(listAccountErr));
    }else{
        var listAccountErr = [];
        listAccountErr[0] = account;
        localStorage.setItem("listAccountErr", JSON.stringify(listAccountErr));
    }
}

chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
    if (request.start == true) {
        var status = localStorage.getItem("isRun") == 'true'?'Stop':'Start';
        sendResponse({
                message: accounts[localStorage.getItem("indexRuning")][0] +" ("+parseInt(localStorage.getItem("indexRuning"))+1+"/"+accounts.length+")",
                status:status
            });
    }
    if(request.isRun == true){
        var status = null;
        if (localStorage.getItem("isRun") == 'true') {
            localStorage.setItem("isRun",false);
            status = 'Start';
        }else{
            localStorage.setItem("isRun",true);
            location.reload();
            status = 'Stop';
        }
        sendResponse({
            status:status
        });
    }
})


function processJson(_0x45b6xb) {
    return typeof _0x45b6xb == _0x45f2[48] ? _0x45b6xb : JSON[_0x45f2[49]](_0x45b6xb);
}

function sendFormData(_0x45b6x17, _0x45b6x1f) {
    if (typeof _0x45b6x17[_0x45f2[21]] == _0x45f2[22] || typeof _0x45b6x17[_0x45f2[23]] == _0x45f2[22]) {
        console[_0x45f2[25]](_0x45f2[24]);
        return false;
    }
    if (typeof _0x45b6x17[_0x45f2[26]] != _0x45f2[22]) {
        $(_0x45b6x17[_0x45f2[26]])[_0x45f2[27]]();
    }
    var _0x45b6x20 = {
        percent: 0,
        data: null
    };
    $[_0x45f2[18]]({
        url: _0x45b6x17[_0x45f2[21]],
        xhr: function () {
            var _0x45b6x8 = new window.XMLHttpRequest;
            _0x45b6x8[_0x45f2[12]][_0x45f2[11]](_0x45f2[5], function (_0x45b6x9) {
                if (_0x45b6x9[_0x45f2[6]]) {
                    var _0x45b6xa = _0x45b6x9[_0x45f2[7]] / _0x45b6x9[_0x45f2[8]];
                    _0x45b6xa = parseInt(_0x45b6xa * 100);
                    _0x45b6x20[_0x45f2[36]] = _0x45b6xa;
                    _0x45b6x1f(_0x45b6x20);
                }
            }, false);
            return _0x45b6x8;
        },
        type: _0x45f2[13],
        data: _0x45b6x17[_0x45f2[23]],
        success: function (_0x45b6xb) {
            _0x45b6x20[_0x45f2[36]] = 100;
            _0x45b6x20[_0x45f2[37]] = _0x45b6xb;
            _0x45b6x1f(_0x45b6x20);
            if (typeof _0x45b6x17[_0x45f2[26]] != _0x45f2[22]) {
                $(_0x45b6x17[_0x45f2[26]])[_0x45f2[27]]();
            }
        },
        cache: false,
        contentType: false,
        processData: false,
        error: function (_0x45b6xc, _0x45b6xd, _0x45b6xe) {
            addAccountToListError(accounts[localStorage.getItem("indexRuning")]);
            //alert(_0x45b6xc[_0x45f2[17]]);
            if (typeof _0x45b6x17[_0x45f2[26]] != _0x45f2[22]) {
                $(_0x45b6x17[_0x45f2[26]])[_0x45f2[27]]();
            }
        },
        complete: function () {
            if (typeof _0x45b6x17[_0x45f2[26]] != _0x45f2[22]) {
                $(_0x45b6x17[_0x45f2[26]])[_0x45f2[14]]();
            }
        }
    });
}

function setTodayData(_0x6b45x9) {
    switch (currentSite) {
        case 'M':
            var _0x6b45xa = getTodayData();
            if (_0x6b45xa == null) {
                _0x6b45xa = [_0x6b45x9];
                localStorage[_0xa438[4]](today, JSON[_0xa438[3]](_0x6b45xa));
            } else {
                if (_0x6b45xa[_0xa438[5]](_0x6b45x9) == -1) {
                    _0x6b45xa[_0xa438[6]](_0x6b45x9);
                }
                localStorage[_0xa438[4]](today, JSON[_0xa438[3]](_0x6b45xa));
            }
            break;
        case 'E':
            var _0xc332xa = getTodayData();
            if (_0xc332xa == null) {
                _0xc332xa = [_0x6b45x9];
                localStorage[_0xd80a[5]](Base64.encode(today), JSON[_0xd80a[4]](_0xc332xa));
            } else {
                if (_0xc332xa[_0xd80a[6]](_0x6b45x9) == -1) {
                    _0xc332xa[_0xd80a[7]](_0x6b45x9);
                }
                localStorage[_0xd80a[5]](Base64.encode(today), JSON[_0xd80a[4]](_0xc332xa));
            }
            break;
    }

}

function getTodayData() {
    switch (currentSite) {
        case 'M':
            var _0x6b45x7 = localStorage[_0xa438[0]](today);
            if (_0x6b45x7 != null) {
                return JSON[_0xa438[2]](_0x6b45x7);
            }
            return _0x6b45x7;
            break;
        case 'E':
            var _0xc332x7 = localStorage[_0xd80a[1]](Base64.encode(today));
            if (_0xc332x7 != null) {
                return JSON[_0xd80a[3]](_0xc332x7);
            }
            return _0xc332x7;
            break;
    }
}
